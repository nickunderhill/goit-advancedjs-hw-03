{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/main.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] = \"live_zOF9vaVYvRLCPyKToIzWhj09cqgYYpxHWkm34YngZLYhyG9MTetGTjwduOAth2Cz\";\n\nconst errorMessage = 'Oops! Something went wrong! Try realoding the page!';\nconst baseUrl = 'https://api.thecatapi.com/v1';\n\nexport async function fetchBreeds() {\n    try {\n      const response = await axios.get(`${baseUrl}/breeds`);\n      return response.data;\n    } catch (error) {\n      throw new Error(errorMessage);\n    }\n  }\n  \nexport async function fetchCatByBreed(breedId) {\n    try {\n      const response = await axios.get(`${baseUrl}/images/search?breed_ids=${breedId}`);\n      return response.data;\n    } catch (error) {\n      throw new Error(errorMessage);\n    }\n  }","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SlimSelect from 'slim-select';\n\nconst breedSelect = document.getElementById('breed-select');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\nconst errorElement = document.querySelector('.error');\n\nasync function loadBreeds() {\n  loader.classList.remove('hidden');\n  breedSelect.classList.add('hidden');\n  try {\n    const breeds = await fetchBreeds();\n    breeds.forEach(breed => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      breedSelect.appendChild(option);\n    });\n    new SlimSelect({ select: '#breed-select' });\n    breedSelect.classList.remove('hidden');\n\n    if (breeds.length > 0) {\n      loadCatInfo(breeds[0].id);\n    }\n  } catch (error) {\n    showError(error.message);\n  } finally {\n    loader.classList.add('hidden');\n  }\n}\n\nasync function loadCatInfo(breedId) {\n  loader.classList.remove('hidden');\n  catInfo.classList.add('hidden');\n  errorElement.classList.add('hidden');\n  try {\n    catInfo.classList.add('hidden');\n    const [cat] = await fetchCatByBreed(breedId);\n    displayCatInfo(cat);\n  } catch (error) {\n    showError(error.message);\n  } finally {\n    loader.classList.add('hidden');\n  }\n}\n\nfunction displayCatInfo(cat) {\n  try {\n    var { url, breeds } = cat;\n    var breed = breeds[0];\n  catInfo.innerHTML = `\n          <img src=\"${url}\" alt=\"${breed.name}\">\n          <div class=\"cat-info-text\">\n              <h2>${breed.name}</h2>\n              <p>${breed.description}</p>\n              <p><strong>Temperament:</strong> ${breed.temperament}</p>\n          </div>\n      `;\n  catInfo.classList.remove('hidden');\n  } catch (error) {\n    showError(\"We cannot find information on this breed. Please check other breeds!\");\n    console.log(error);\n  }\n}\n\nfunction showError(message) {\n  errorElement.textContent = message;\n  errorElement.classList.remove('hidden');\n  iziToast.error({ title: 'Error', message });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  loadBreeds();\n});\n\nbreedSelect.addEventListener('change', event => {\n  const breedId = event.target.value;\n  if (breedId) {\n    loadCatInfo(breedId);\n  }\n});\n"],"names":["axios","errorMessage","baseUrl","fetchBreeds","fetchCatByBreed","breedId","breedSelect","loader","catInfo","errorElement","loadBreeds","breeds","breed","option","SlimSelect","loadCatInfo","error","showError","cat","displayCatInfo","url","message","iziToast","event"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAI,wEAE7C,MAAMC,EAAe,sDACfC,EAAU,+BAET,eAAeC,GAAc,CAChC,GAAI,CAEF,OADiB,MAAMH,EAAM,IAAI,GAAGE,CAAO,SAAS,GACpC,IACjB,MAAe,CACd,MAAM,IAAI,MAAMD,CAAY,CAC7B,CACF,CAEI,eAAeG,EAAgBC,EAAS,CAC3C,GAAI,CAEF,OADiB,MAAML,EAAM,IAAI,GAAGE,CAAO,4BAA4BG,CAAO,EAAE,GAChE,IACjB,MAAe,CACd,MAAM,IAAI,MAAMJ,CAAY,CAC7B,CACL,CCjBA,MAAMK,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAe,SAAS,cAAc,QAAQ,EAEpD,eAAeC,GAAa,CAC1BH,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAY,UAAU,IAAI,QAAQ,EAClC,GAAI,CACF,MAAMK,EAAS,MAAMR,IACrBQ,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3BN,EAAY,YAAYO,CAAM,CACpC,CAAK,EACD,IAAIC,EAAW,CAAE,OAAQ,eAAiB,CAAA,EAC1CR,EAAY,UAAU,OAAO,QAAQ,EAEjCK,EAAO,OAAS,GAClBI,EAAYJ,EAAO,CAAC,EAAE,EAAE,CAE3B,OAAQK,EAAO,CACdC,EAAUD,EAAM,OAAO,CAC3B,QAAY,CACRT,EAAO,UAAU,IAAI,QAAQ,CAC9B,CACH,CAEA,eAAeQ,EAAYV,EAAS,CAClCE,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAQ,UAAU,IAAI,QAAQ,EAC9BC,EAAa,UAAU,IAAI,QAAQ,EACnC,GAAI,CACFD,EAAQ,UAAU,IAAI,QAAQ,EAC9B,KAAM,CAACU,CAAG,EAAI,MAAMd,EAAgBC,CAAO,EAC3Cc,EAAeD,CAAG,CACnB,OAAQF,EAAO,CACdC,EAAUD,EAAM,OAAO,CAC3B,QAAY,CACRT,EAAO,UAAU,IAAI,QAAQ,CAC9B,CACH,CAEA,SAASY,EAAeD,EAAK,CAC3B,GAAI,CACF,GAAI,CAAE,IAAAE,EAAK,OAAAT,CAAQ,EAAGO,EAClBN,EAAQD,EAAO,CAAC,EACtBH,EAAQ,UAAY;AAAA,sBACAY,CAAG,UAAUR,EAAM,IAAI;AAAA;AAAA,oBAEzBA,EAAM,IAAI;AAAA,mBACXA,EAAM,WAAW;AAAA,iDACaA,EAAM,WAAW;AAAA;AAAA,QAGhEJ,EAAQ,UAAU,OAAO,QAAQ,CAChC,OAAQQ,EAAO,CACdC,EAAU,sEAAsE,EAChF,QAAQ,IAAID,CAAK,CAClB,CACH,CAEA,SAASC,EAAUI,EAAS,CAC1BZ,EAAa,YAAcY,EAC3BZ,EAAa,UAAU,OAAO,QAAQ,EACtCa,EAAS,MAAM,CAAE,MAAO,QAAS,QAAAD,CAAS,CAAA,CAC5C,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDX,GACF,CAAC,EAEDJ,EAAY,iBAAiB,SAAUiB,GAAS,CAC9C,MAAMlB,EAAUkB,EAAM,OAAO,MACzBlB,GACFU,EAAYV,CAAO,CAEvB,CAAC"}